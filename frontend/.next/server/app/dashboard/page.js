(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},27640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(69521),r(44611),r(35866);var s=r(23191),a=r(88716),i=r(37922),l=r.n(i),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69521)),"C:\\Users\\BMSIT\\PolyDropBox\\frontend\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44611)),"C:\\Users\\BMSIT\\PolyDropBox\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\BMSIT\\PolyDropBox\\frontend\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75140:(e,t,r)=>{Promise.resolve().then(r.bind(r,47581))},7742:(e,t,r)=>{Promise.resolve().then(r.bind(r,78143)),Promise.resolve().then(r.bind(r,90725))},13385:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},47581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(10326),a=r(17577),i=r.n(a),l=r(51814),n=r(90434),o=r(94464),d=r(38155),c=r(16361);function x(){let{address:e,isConnected:t}=(0,l.m)(),[r,x]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[h,u]=(0,a.useState)({totalFiles:0,totalDownloads:0,totalRevenue:0}),[y,g]=(0,a.useState)(null);return(i().useCallback(async()=>{try{let t=(await o.Z.get(`/api/files?creator=${e}`)).data.files||[];x(t);let r=t.reduce((e,t)=>e+(t.downloadCount||0),0),s=t.reduce((e,t)=>{let r=(t.price||0)*(t.downloadCount||0);return e+r},0);u({totalFiles:t.length,totalDownloads:r,totalRevenue:s})}catch(e){console.error("Error fetching files:",e)}finally{p(!1)}},[e]),t)?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary-50/30",children:[s.jsx(c.w,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Creator Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Track your files, downloads, and revenue"})]}),s.jsx(n.default,{href:"/upload",className:"px-6 py-3 bg-primary-500 text-white rounded-xl hover:bg-primary-600 transition font-semibold shadow-lg",children:"Upload New File"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-primary-100 hover:shadow-xl transition",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Files"}),s.jsx("p",{className:"text-3xl font-bold text-primary-600",children:h.totalFiles})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-primary-100 hover:shadow-xl transition",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Downloads"}),s.jsx("p",{className:"text-3xl font-bold text-primary-600",children:h.totalDownloads})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-primary-100 hover:shadow-xl transition",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-primary-600",children:[h.totalRevenue.toFixed(2)," USDC"]})]})]}),m?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading files..."})]}):0===r.length?(0,s.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[s.jsx("div",{className:"text-5xl mb-4",children:"\uD83D\uDCC1"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No files uploaded yet"}),s.jsx(n.default,{href:"/upload",className:"px-6 py-3 bg-primary-500 text-white rounded-xl hover:bg-primary-600 transition inline-block font-semibold",children:"Upload Your First File"})]}):(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Files"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Click a row to view download audit logs"})]}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-primary-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"File Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Downloads"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(e=>{let t=Date.now()/1e3>(e.expiryTime||0),r=y===e.fileId,a=e.downloads||[];return(0,s.jsxs)(i().Fragment,{children:[(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition",onClick:()=>g(r?null:e.fileId),children:[(0,s.jsxs)("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.fileName||e.fileId}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[e.fileId.slice(0,16),"..."]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-gray-900 font-semibold",children:0===e.price?"Free":`${e.price} USDC`})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("span",{className:"text-gray-900",children:[e.downloadCount||0," / ",e.maxDownloads||0]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t?"bg-red-100 text-red-800":e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t?"Expired":e.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(n.default,{href:`/file/${e.fileId}`,onClick:e=>e.stopPropagation(),className:"text-primary-600 hover:text-primary-700 font-semibold text-sm",children:"View →"})})]},e.fileId),r&&a.length>0&&s.jsx("tr",{className:"bg-gray-50/50",children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"rounded-xl bg-white border border-gray-200 p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:"\uD83D\uDCCB Download Audit Logs"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm py-2 px-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("span",{className:"font-mono text-gray-600",children:[e.user?.slice(0,10),"...",e.user?.slice(-8)]}),s.jsx("span",{className:"text-gray-500",children:e.timestamp?new Date(e.timestamp).toLocaleString():"N/A"}),e.txHash&&s.jsx("a",{href:`https://amoy.polygonscan.com/tx/${e.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline text-xs",children:"View TX"})]},t))})]})})},`${e.fileId}-logs`)]},e.fileId)})})]})})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-primary-50/30 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect Wallet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please connect your wallet to view your dashboard"}),s.jsx(d.T,{})]})})}},78143:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>p});var s=r(10326),a=r(1900),i=r(89259),l=r(19598),n=r(75354),o=r(22852),d=r(44976),c=r(57470);let x=(0,a._)({chains:[n.v],connectors:[(0,c.L)({shimDisconnect:!0})],transports:{[n.v.id]:(0,i.d)("https://rpc-amoy.polygon.technology")}}),m=new o.S;function p({children:e}){return s.jsx(l.F,{config:x,children:s.jsx(d.aH,{client:m,children:e})})}},90725:(e,t,r)=>{"use strict";r.d(t,{Footer:()=>i});var s=r(10326),a=r(90434);function i(){return s.jsx("footer",{className:"mt-auto border-t border-gray-200 bg-white/80 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2 mb-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-lg",children:"\uD83D\uDCE6"}),s.jsx("span",{className:"text-xl font-bold text-primary-600",children:"PolyDropBox"})]}),s.jsx("p",{className:"text-gray-600 text-sm max-w-md",children:"Decentralized file sharing with blockchain access control, IPFS storage, and cross-chain payments on Polygon."})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Product"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(a.default,{href:"/upload",className:"text-gray-600 hover:text-primary-600 text-sm",children:"Upload"})}),s.jsx("li",{children:s.jsx(a.default,{href:"/dashboard",className:"text-gray-600 hover:text-primary-600 text-sm",children:"Dashboard"})}),s.jsx("li",{children:s.jsx("a",{href:"https://amoy.polygonscan.com/address/0x570c2d5Eda88e64dC13eBB2e062C00F799dD6938",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-primary-600 text-sm",children:"Contract"})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Powered by"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:"Polygon"}),s.jsx("li",{children:"IPFS / Pinata"}),s.jsx("li",{children:"SideShift"})]})]})]}),s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-sm text-gray-500",children:"Built with ❤️ using Polygon, SideShift, IPFS, and Next.js"})]})})}},16361:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var s=r(10326),a=r(17577),i=r(90434),l=r(51814),n=r(38155);function o(){let{address:e,isConnected:t}=(0,l.m)(),[r,o]=(0,a.useState)(!1);return r?s.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-primary-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)(i.default,{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-2xl",children:"\uD83D\uDCE6"}),s.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:"PolyDropBox"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.default,{href:"/upload",className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition",children:"Upload"}),s.jsx(i.default,{href:"/dashboard",className:"px-4 py-2 text-primary-600 hover:text-primary-700",children:"Dashboard"}),(0,s.jsxs)("div",{className:"px-4 py-2 bg-primary-100 text-primary-700 rounded-lg text-sm",children:[e?.slice(0,6),"...",e?.slice(-4)]})]}):s.jsx(n.T,{})})]})})}):s.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-primary-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)(i.default,{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-2xl",children:"\uD83D\uDCE6"}),s.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:"PolyDropBox"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(n.T,{})})]})})})}},38155:(e,t,r)=>{"use strict";r.d(t,{T:()=>d});var s=r(10326),a=r(17577),i=r(51814),l=r(10502),n=r(24625),o=r(57470);function d(){let{address:e,isConnected:t}=(0,i.m)(),{connect:r}=(0,l.$)(),{disconnect:d}=(0,n.q)(),[c,x]=(0,a.useState)(!1);return c?t&&e?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"px-4 py-2 bg-primary-100 text-primary-700 rounded-lg text-sm",children:[e.slice(0,6),"...",e.slice(-4)]}),s.jsx("button",{onClick:()=>d(),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm",children:"Disconnect"})]}):s.jsx("button",{onClick:()=>r({connector:(0,o.L)()}),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition",children:"Connect Wallet"}):s.jsx("button",{className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition",disabled:!0,children:"Connect Wallet"})}},69521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\BMSIT\PolyDropBox\frontend\app\dashboard\page.tsx#default`)},44611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(19510),a=r(2815),i=r.n(a);r(67272);var l=r(68570);let n=(0,l.createProxy)(String.raw`C:\Users\BMSIT\PolyDropBox\frontend\app\providers.tsx#Providers`),o=(0,l.createProxy)(String.raw`C:\Users\BMSIT\PolyDropBox\frontend\components\Footer.tsx#Footer`),d={title:"PolyDropBox - Decentralized File Sharing",description:"Decentralized file sharing with expiry, payments & cross-chain swaps on Polygon. Preview before purchase, multi-file upload, password protection."};function c({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${i().className} antialiased flex flex-col min-h-screen`,children:s.jsx(n,{children:(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[e,s.jsx(o,{})]})})})})}},24697:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(66621);let a=e=>[{type:"image/svg+xml",sizes:"any",url:(0,s.fillMetadataSegment)(".",e.params,"icon.svg")+"?88d105febd278860"}]},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,505,536,464],()=>r(27640));module.exports=s})();